<!-- Modal di Login -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Accedi</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs" id="loginTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="cliente-tab" data-bs-toggle="tab" data-bs-target="#cliente-login" type="button" role="tab" aria-controls="cliente-login" aria-selected="true">Cliente</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="meccanico-tab" data-bs-toggle="tab" data-bs-target="#meccanico-login" type="button" role="tab" aria-controls="meccanico-login" aria-selected="false">Meccanico</button>
                    </li>
                </ul>
                <div class="tab-content" id="loginTabsContent">
                    <div class="tab-pane fade show active" id="cliente-login" role="tabpanel" aria-labelledby="cliente-tab">
                        <form id="loginForm" action="/auth/login/cliente" method="POST" class="mt-3">
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Password</label>
                                <input type="password" class="form-control" id="password" name="password" required>
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="rememberMe" name="rememberMe">
                                <label class="form-check-label" for="rememberMe">Ricordami</label>
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">Accedi</button>
                            </div>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="meccanico-login" role="tabpanel" aria-labelledby="meccanico-tab">
                        <form id="loginMeccanicoForm" action="/auth/login/meccanico" method="POST" class="mt-3">
                            <div class="mb-3">
                                <label for="emailMeccanico" class="form-label">Email</label>
                                <input type="email" class="form-control" id="emailMeccanico" name="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="passwordMeccanico" class="form-label">Password</label>
                                <input type="password" class="form-control" id="passwordMeccanico" name="password" required>
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="rememberMeMeccanico" name="rememberMe">
                                <label class="form-check-label" for="rememberMeMeccanico">Ricordami</label>
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">Accedi</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="mt-3 text-center">
                    <p>Non hai un account? <a href="#" id="registerLink" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#registerModal">Registrati come cliente</a> o <a href="#" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#registerMeccanicoModal">come meccanico</a></p>
                    <p><a href="/auth/reset-password">Password dimenticata?</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal di Registrazione Cliente -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="registerModalLabel">Registrati come Cliente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="registerForm" action="/auth/register/cliente" method="POST">
                    <div class="mb-3">
                        <label for="regName" class="form-label">Nome Completo</label>
                        <input type="text" class="form-control" id="regName" name="nome" required>
                    </div>
                    <div class="mb-3">
                        <label for="regEmail" class="form-label">Email</label>
                        <input type="email" class="form-control" id="regEmail" name="email" required>
                    </div>
                    <div class="mb-3">
                        <label for="regPassword" class="form-label">Password</label>
                        <input type="password" class="form-control" id="regPassword" name="password" required minlength="6">
                        <div class="form-text">La password deve essere di almeno 6 caratteri.</div>
                    </div>
                    <div class="mb-3">
                        <label for="regConfirmPassword" class="form-label">Conferma Password</label>
                        <input type="password" class="form-control" id="regConfirmPassword" name="conferma_password" required>
                    </div>
                    <div class="mb-3">
                        <label for="regTelefono" class="form-label">Telefono (opzionale)</label>
                        <input type="tel" class="form-control" id="regTelefono" name="telefono">
                    </div>
                    <div class="mb-3">
                        <label for="regCitta" class="form-label">Città (opzionale)</label>
                        <input type="text" class="form-control" id="regCitta" name="citta">
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="regTermini" name="termini" required>
                        <label class="form-check-label" for="regTermini">Ho letto e accetto i <a href="#">Termini e Condizioni</a> e la <a href="#">Privacy Policy</a></label>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Registrati</button>
                    </div>
                </form>
                <div class="mt-3 text-center">
                    <p>Hai già un account? <a href="#" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#loginModal">Accedi qui</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal di Registrazione Meccanico -->
<div class="modal fade" id="registerMeccanicoModal" tabindex="-1" aria-labelledby="registerMeccanicoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="registerMeccanicoModalLabel">Registrati come Meccanico</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="registerMeccanicoForm" action="/auth/register/meccanico" method="POST">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="regMecName" class="form-label">Nome Completo</label>
                            <input type="text" class="form-control" id="regMecName" name="nome" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="regMecEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="regMecEmail" name="email" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="regMecPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="regMecPassword" name="password" required minlength="6">
                            <div class="form-text">La password deve essere di almeno 6 caratteri.</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="regMecConfirmPassword" class="form-label">Conferma Password</label>
                            <input type="password" class="form-control" id="regMecConfirmPassword" name="conferma_password" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="regMecOfficina" class="form-label">Nome Officina</label>
                            <input type="text" class="form-control" id="regMecOfficina" name="nome_officina" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="regMecSpecializzazione" class="form-label">Specializzazione</label>
                            <select class="form-select" id="regMecSpecializzazione" name="specializzazione" required>
                                <option value="">Seleziona...</option>
                                <option value="Meccanica Generale">Meccanica Generale</option>
                                <option value="Elettronica">Elettronica</option>
                                <option value="Carrozzeria">Carrozzeria</option>
                                <option value="Cambio Gomme">Cambio Gomme</option>
                                <option value="Tagliandi">Tagliandi</option>
                                <option value="Revisioni">Revisioni</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="regMecTelefono" class="form-label">Telefono</label>
                            <input type="tel" class="form-control" id="regMecTelefono" name="telefono" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="regMecCitta" class="form-label">Città</label>
                            <input type="text" class="form-control" id="regMecCitta" name="citta" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="regMecDescrizione" class="form-label">Descrizione Attività</label>
                        <textarea class="form-control" id="regMecDescrizione" name="descrizione" rows="3"></textarea>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="regMecTermini" name="termini" required>
                        <label class="form-check-label" for="regMecTermini">Ho letto e accetto i <a href="#">Termini e Condizioni</a> e la <a href="#">Privacy Policy</a></label>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i> Dopo la registrazione, il tuo account verrà verificato dal nostro staff prima di essere attivato. Ti invieremo una email quando la verifica sarà completata.
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Registrati come Meccanico</button>
                    </div>
                </form>
                <div class="mt-3 text-center">
                    <p>Hai già un account? <a href="#" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#loginModal">Accedi qui</a></p>
                </div>
            </div>
        </div>
    </div>
</div>